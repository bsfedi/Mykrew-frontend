<body>
  <div class="container">
    <div>
      <app-left-bar></app-left-bar>
    </div>

    <div class="second-container">
      <div class="search-bar">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M21.7555 20.6065L18.3182 17.2458L18.2376 17.1233C18.0878 16.9742 17.883 16.8902 17.6692 16.8902C17.4554 16.8902 17.2505 16.9742 17.1007 17.1233C14.1795 19.8033 9.67815 19.949 6.58201 17.4637C3.48586 14.9784 2.75567 10.6334 4.87568 7.31017C6.9957 3.98697 11.3081 2.71685 14.9528 4.34214C18.5976 5.96743 20.4438 9.98379 19.267 13.7276C19.1823 13.9981 19.2515 14.2922 19.4487 14.4992C19.6459 14.7062 19.9411 14.7946 20.223 14.7311C20.505 14.6676 20.7309 14.4619 20.8156 14.1914C22.2224 9.74864 20.0977 4.96755 15.8161 2.94106C11.5345 0.914562 6.38084 2.25082 3.68905 6.08542C0.99727 9.92001 1.57518 15.1021 5.04893 18.2795C8.52268 21.4569 13.8498 21.6759 17.5841 18.7949L20.6277 21.7705C20.942 22.0765 21.4502 22.0765 21.7645 21.7705C22.0785 21.4602 22.0785 20.9606 21.7645 20.6503L21.7555 20.6065Z"
            fill="#1E1E1E" />
        </svg>
        <div class="Search-text">
          <input type="search" placeholder="Search Anything Here..." />
        </div>
        <div>
          <button class="button">Rechercher</button>
        </div>
      </div>

      <div style="display: flex">
        <div style="margin-top: 10px">
          <svg xmlns="http://www.w3.org/2000/svg" width="45" height="26" viewBox="0 0 35 36" fill="none">
            <path
              d="M23.0807 28.182C23.3529 28.182 23.5848 28.084 23.7763 27.888C23.9669 27.692 24.0622 27.4535 24.0622 27.1725C24.0622 26.8925 23.9669 26.654 23.7763 26.457C23.5858 26.261 23.3539 26.163 23.0807 26.163C22.8085 26.163 22.5766 26.261 22.3851 26.457C22.1945 26.654 22.0993 26.8925 22.0993 27.1725C22.0993 27.4535 22.1945 27.692 22.3851 27.888C22.5756 28.084 22.8075 28.182 23.0807 28.182ZM26.2497 28.182C26.5219 28.182 26.7538 28.084 26.9453 27.888C27.1359 27.692 27.2311 27.4535 27.2311 27.1725C27.2311 26.8925 27.1359 26.654 26.9453 26.457C26.7547 26.261 26.5229 26.163 26.2497 26.163C25.9775 26.163 25.7456 26.261 25.5541 26.457C25.3635 26.654 25.2682 26.8925 25.2682 27.1725C25.2682 27.4535 25.3635 27.692 25.5541 27.888C25.7446 28.084 25.9765 28.182 26.2497 28.182ZM29.4186 28.182C29.6909 28.182 29.9227 28.084 30.1143 27.888C30.3048 27.692 30.4001 27.4535 30.4001 27.1725C30.4001 26.8925 30.3048 26.654 30.1143 26.457C29.9237 26.261 29.6918 26.163 29.4186 26.163C29.1464 26.163 28.9145 26.261 28.723 26.457C28.5325 26.654 28.4372 26.8925 28.4372 27.1725C28.4372 27.4535 28.5325 27.692 28.723 27.888C28.9136 28.084 29.1454 28.182 29.4186 28.182ZM8.18822 30C7.53683 30 6.9812 29.764 6.52134 29.292C6.06245 28.82 5.83301 28.2485 5.83301 27.5775V8.4225C5.83301 7.7525 6.06245 7.181 6.52134 6.708C6.98023 6.236 7.53585 6 8.18822 6H26.8111C27.4625 6 28.0181 6.236 28.478 6.708C28.9369 7.18 29.1663 7.7515 29.1663 8.4225V17.3475C28.9106 17.2575 28.6656 17.184 28.4313 17.127C28.198 17.071 27.9569 17.015 27.708 16.959V8.424C27.708 8.193 27.6147 7.981 27.428 7.788C27.2404 7.596 27.0347 7.5 26.8111 7.5H8.18822C7.9646 7.5 7.75898 7.596 7.57134 7.788C7.38467 7.981 7.29134 8.1925 7.29134 8.4225V27.5775C7.29134 27.8075 7.38467 28.019 7.57134 28.212C7.75898 28.404 7.9646 28.5 8.18822 28.5H16.4511C16.4861 28.78 16.5313 29.0405 16.5868 29.2815C16.6422 29.5215 16.7136 29.761 16.8011 30H8.18822ZM7.29134 27V28.5V7.5V16.959V16.8465V27ZM10.9372 24.405H16.7122C16.7656 24.148 16.8386 23.8995 16.9309 23.6595L17.2226 22.9035H10.9372V24.405ZM10.9372 18.75H20.533C21.0123 18.404 21.4838 18.1105 21.9476 17.8695C22.4133 17.6295 22.9125 17.4415 23.4453 17.3055V17.25H10.9372V18.75ZM10.9372 13.095H24.0622V11.595H10.9372V13.095ZM26.2497 33.174C24.6251 33.174 23.2465 32.592 22.1138 31.428C20.9812 30.264 20.4154 28.8455 20.4163 27.1725C20.4163 25.5025 20.9822 24.085 22.1138 22.92C23.2455 21.755 24.6241 21.1725 26.2497 21.1725C27.8743 21.1725 29.2529 21.755 30.3855 22.92C31.5182 24.085 32.084 25.5025 32.083 27.1725C32.083 28.8445 31.5172 30.2625 30.3855 31.4265C29.2519 32.5905 27.8733 33.174 26.2497 33.174Z"
              fill="black" />
          </svg>
        </div>
        <div class="mesmissions">Mes Missions</div>
        <div>
          <button class="button newmissionbutton" (click)="click()">
            Declarer une nouvelle mission
          </button>
        </div>
      </div>
      <div id="chart">
        <apx-chart [series]="chartOptions.series" [chart]="chartOptions.chart" [xaxis]="chartOptions.xaxis"
          [dataLabels]="chartOptions.dataLabels" [yaxis]="chartOptions.yaxis" [colors]="chartOptions.colors"
          [legend]="chartOptions.legend" [fill]="chartOptions.fill"></apx-chart>
      </div>
      <div class="Tableau" style="margin-left: 20px">
        <div class="chiffre_affaire">
          <div class="Tableau">
            <div class="chaffaire">Info Mission</div>
            <!-- <div class="pourcentage Tableau">
    
                                <svg xmlns="http://www.w3.org/2000/svg" fill="none">
                                    <path
                                        d="M2.73086 1.03259L1.00245 3.12467C0.865848 3.29001 0.865848 3.5516 1.00245 3.71695C1.07294 3.80227 1.16992 3.84955 1.27159 3.84955C1.37326 3.84955 1.47024 3.80227 1.54073 3.71695L2.62841 2.40043V6.67126C2.62841 6.88933 2.77776 7.1 3 7.1C3.22225 7.1 3.37159 6.88933 3.37159 6.67126V2.40043L4.45927 3.71695C4.52976 3.80227 4.62674 3.84955 4.72841 3.84955C4.83008 3.84955 4.92706 3.80227 4.99755 3.71695C5.13415 3.55161 5.13415 3.29001 4.99755 3.12467L3.26914 1.03259C3.19865 0.947275 3.10167 0.9 3 0.9C2.89833 0.9 2.80135 0.947275 2.73086 1.03259Z"
                                        fill="#FEFCF1" stroke="#FEFCF1" stroke-width="0.2" />
                                </svg>20%
    
    
    
                            </div> -->
          </div>
          <div>
            <div class="nb_money">
              <b> En cours</b>
            </div>
            <div class="Tableau" style="margin-left: 15px; margin-top: 15px; color: #cdc7b9">
              <div>chez {{ clientofcurrentmission }}</div>
              <div style="margin-left: 30px">
                TJM : {{ tjmofcurrentmission }}€
              </div>
            </div>
          </div>
        </div>
        <div class="tjm_moyen">
          <div class="chaffaire">TJM Moyen</div>
          <div class="nb_money">
            <b>{{ tjm_moyen | number : "1.0-0" }}€ </b>
          </div>
        </div>
        <div class="tjm_moyen">
          <div class="chaffaire">Date de fin de mission</div>
          <div style="margin-left: 13px; font-size: 25px; margin-top: 17px">
            <b>{{ closestEndDate }}</b>
          </div>

          <div class="dashboard-card-count" style="display: flex; margin-top: 15px">
            <div class="chaffaire week">Il reste encore</div>
            <div class="percentage-change" style="margin-left: 10px">
              {{ daysDiff + 1 }} jours
            </div>
          </div>
        </div>
      </div>
      <br />

      <div style="color: #171a1f; width: 14.1875rem">
        <b> Mes Missions</b>
      </div>
      <br />

      <div class="custom-container">
        En attente ({{ pending_missions.length }})
      </div>
      <br />
      <table>
        <thead>
          <tr>
            <th style="border-radius: 0.6875rem 0rem 0rem 0rem">Statut</th>
            <th>ID</th>
            <th>Métier</th>
            <th>Client</th>
            <th>Secteur</th>
            <th>TJM</th>
            <th>Début</th>
            <th>Fin</th>
            <th style="border-radius: 0rem 0.6875rem 0rem 0rem"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of pending_missions; let j = index">
            <td>
              <div *ngIf="item.newMissionStatus == 'WAITINGCONTRACT'" class="ancienne">
                En attente
              </div>
              <div *ngIf="item.newMissionStatus != 'WAITINGCONTRACT'" class="pending">
                Nouvelle
              </div>
            </td>
            <td>#{{ j + 1 }}</td>
            <td>
              {{ item.missionInfo.profession.value }}
            </td>
            <td>
              {{ item.clientInfo.clientContact.firstName.value }}
            </td>
            <td>
              {{ item.missionInfo.industrySector.value }}
            </td>
            <td>
              {{ item.missionInfo.dailyRate.value }}
            </td>
            <td>
              {{ item.missionInfo.startDate.value.split("T")[0] }}
            </td>
            <td>
              {{ item.missionInfo.endDate.value.split("T")[0] }}
            </td>
            <td>
              <div>
                <div>
                  <span (click)="toggleMenu1(j)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path
                        d="M12 7C12.3956 7 12.7822 6.8827 13.1111 6.66294C13.44 6.44318 13.6964 6.13082 13.8478 5.76537C13.9991 5.39992 14.0387 4.99778 13.9616 4.60982C13.8844 4.22186 13.6939 3.86549 13.4142 3.58579C13.1345 3.30608 12.7781 3.1156 12.3902 3.03843C12.0022 2.96126 11.6001 3.00087 11.2346 3.15224C10.8692 3.30362 10.5568 3.55996 10.3371 3.88886C10.1173 4.21776 10 4.60444 10 5C10 5.53043 10.2107 6.03914 10.5858 6.41421C10.9609 6.78929 11.4696 7 12 7ZM12 17C11.6044 17 11.2178 17.1173 10.8889 17.3371C10.56 17.5568 10.3036 17.8692 10.1522 18.2346C10.0009 18.6001 9.96126 19.0022 10.0384 19.3902C10.1156 19.7781 10.3061 20.1345 10.5858 20.4142C10.8655 20.6939 11.2219 20.8844 11.6098 20.9616C11.9978 21.0387 12.3999 20.9991 12.7654 20.8478C13.1308 20.6964 13.4432 20.44 13.6629 20.1111C13.8827 19.7822 14 19.3956 14 19C14 18.4696 13.7893 17.9609 13.4142 17.5858C13.0391 17.2107 12.5304 17 12 17ZM12 10C11.6044 10 11.2178 10.1173 10.8889 10.3371C10.56 10.5568 10.3036 10.8692 10.1522 11.2346C10.0009 11.6001 9.96126 12.0022 10.0384 12.3902C10.1156 12.7781 10.3061 13.1345 10.5858 13.4142C10.8655 13.6939 11.2219 13.8844 11.6098 13.9616C11.9978 14.0387 12.3999 13.9991 12.7654 13.8478C13.1308 13.6964 13.4432 13.44 13.6629 13.1111C13.8827 12.7822 14 12.3956 14 12C14 11.4696 13.7893 10.9609 13.4142 10.5858C13.0391 10.2107 12.5304 10 12 10Z"
                        fill="black" />
                    </svg>
                  </span>
                  <div *ngIf="isMenuOpen1[j]" class="dropdown-menu">
                    <div style="display: flex; cursor: pointer">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="gotovalidation(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        Voir details
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>

      <br /><br />
      <div class="custom-container">
        En cours ({{ validated_mission.length }})
      </div>
      <br />
      <table>
        <thead>
          <tr>
            <th style="border-radius: 0.6875rem 0rem 0rem 0rem">Statut</th>
            <th>ID</th>
            <th>Métier</th>
            <th>Client</th>
            <th>Secteur</th>
            <th>TJM</th>
            <th>Début</th>
            <th>Fin</th>
            <th style="border-radius: 0rem 0.6875rem 0rem 0rem"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of validated_mission; let j = index">
            <td>
              <div *ngIf="isDateAfterToday(item.missionInfo.endDate.split('T')[0])">
                <div class="encours">en cours</div>
              </div>
              <div *ngIf="isDateToday(item.missionInfo.endDate.split('T')[0])">
                <div class="done">Termineé</div>
              </div>
              <div *ngIf="
                  isDateBeforeToday(item.missionInfo.endDate.split('T')[0])
                ">
                <div class="done">Termineé</div>
              </div>
            </td>
            <td>#{{ j + 1 }}</td>
            <td>
              {{ item.missionInfo.profession }}
            </td>
            <td>
              {{ item.clientInfo.clientContact.firstName }}
            </td>
            <td>
              {{ item.missionInfo.industrySector }}
            </td>
            <td>
              {{ item.missionInfo.dailyRate }}
            </td>
            <td>
              {{ item.missionInfo.startDate.split("T")[0] }}
            </td>
            <td>
              {{ item.missionInfo.endDate.split("T")[0] }}
            </td>
            <td>
              <div>
                <div>
                  <span (click)="toggleMenu(j)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path
                        d="M12 7C12.3956 7 12.7822 6.8827 13.1111 6.66294C13.44 6.44318 13.6964 6.13082 13.8478 5.76537C13.9991 5.39992 14.0387 4.99778 13.9616 4.60982C13.8844 4.22186 13.6939 3.86549 13.4142 3.58579C13.1345 3.30608 12.7781 3.1156 12.3902 3.03843C12.0022 2.96126 11.6001 3.00087 11.2346 3.15224C10.8692 3.30362 10.5568 3.55996 10.3371 3.88886C10.1173 4.21776 10 4.60444 10 5C10 5.53043 10.2107 6.03914 10.5858 6.41421C10.9609 6.78929 11.4696 7 12 7ZM12 17C11.6044 17 11.2178 17.1173 10.8889 17.3371C10.56 17.5568 10.3036 17.8692 10.1522 18.2346C10.0009 18.6001 9.96126 19.0022 10.0384 19.3902C10.1156 19.7781 10.3061 20.1345 10.5858 20.4142C10.8655 20.6939 11.2219 20.8844 11.6098 20.9616C11.9978 21.0387 12.3999 20.9991 12.7654 20.8478C13.1308 20.6964 13.4432 20.44 13.6629 20.1111C13.8827 19.7822 14 19.3956 14 19C14 18.4696 13.7893 17.9609 13.4142 17.5858C13.0391 17.2107 12.5304 17 12 17ZM12 10C11.6044 10 11.2178 10.1173 10.8889 10.3371C10.56 10.5568 10.3036 10.8692 10.1522 11.2346C10.0009 11.6001 9.96126 12.0022 10.0384 12.3902C10.1156 12.7781 10.3061 13.1345 10.5858 13.4142C10.8655 13.6939 11.2219 13.8844 11.6098 13.9616C11.9978 14.0387 12.3999 13.9991 12.7654 13.8478C13.1308 13.6964 13.4432 13.44 13.6629 13.1111C13.8827 12.7822 14 12.3956 14 12C14 11.4696 13.7893 10.9609 13.4142 10.5858C13.0391 10.2107 12.5304 10 12 10Z"
                        fill="black" />
                    </svg>
                  </span>
                  <div *ngIf="isMenuOpen[j]" class="dropdown-menu">
                    <div style="display: flex; cursor: pointer">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="gotovalidation(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        Voir details

                      </div>
                    </div>
                    <div style="display: flex; cursor: pointer">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="openPopup(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        Modifier TJM
                      </div>
                    </div>
                    <div style="display: flex; cursor: pointer" *ngIf="item.craInformation.selectedDates.length == 0">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="gotocra(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        CRA
                      </div>
                    </div>
                    <div style="display: flex; cursor: pointer" *ngIf="item.craInformation.selectedDates.length != 0">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="deposercra(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        Déposer fichier CRA
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="popup" *ngIf="deposer">
        <div class="popup-content" style="  height: 12.4375rem;">
          <div style="float: right" (click)="closePopup()">
            <img class="close-button" src="/assets/close.png" width="50%" height="50%" />
          </div>
          <div>
            <h3>Ajouter CRA</h3>
            <form action="/submit_form" method="post" style="display: flex">
              <div class="form-section">
                <div class="grid-container">


                  <div class="custom-file-input" (change)="setFileInput('cra', $event)" style="cursor: pointer">
                    <label class="file-label" for="fileInput" style="cursor: pointer">
                      CRA {{document}}
                    </label>

                    <div class="vertical-line"></div>
                    <input class="file-input" type="file" id="fileInput" name="fileInput" accept=".pdf"
                      onclick="document.getElementById('fileInput').click()" />
                    <div class="upload-icon" onclick="document.getElementById('fileInput').click()">
                      <div class="chose-file" *ngIf="!cra">
                        choisir un fichier <br />
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"
                          class="icon-file" fill="none">
                          <g clip-path="url(#clip0_972_185)">
                            <path
                              d="M0.5 10.5V11.5C0.5 12.0304 0.710714 12.5391 1.08579 12.9142C1.46086 13.2893 1.96957 13.5 2.5 13.5H11.5C12.0304 13.5 12.5391 13.2893 12.9142 12.9142C13.2893 12.5391 13.5 12.0304 13.5 11.5V10.5"
                              stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M4 4L7 0.5L10 4" stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M7 0.5V9.5" stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                          </g>
                          <defs>
                            <clipPath id="clip0_972_185">
                              <rect width="14" height="14" fill="white" />
                            </clipPath>
                          </defs>
                        </svg>
                      </div>
                      <div *ngIf="cra" style="align-items: center; text-align: center">
                        <img src="/assets/1000_F_224760148_gLe2B5UsoB1ecTmczTBhqBnwxfSxPoNw.jpg" alt="Selected Image"
                          style="
                            max-width: 320%;
                            max-height: 50px;
                            margin: 5px;
                            margin-top: 10px;
                          " />
                      </div>

                    </div>
                  </div>
                </div>

                <br />
                <div class="buttons" (click)="submitcra()">
                  <button type="submit" class="button">
                    <div class="inscrire">Ajouter</div>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <div class="popup" *ngIf="showPopup">
        <div class="popup-content">
          <div style="float: right" (click)="closePopup()">
            <img class="close-button" src="/assets/close.png" width="50%" height="50%" />
          </div>
          <div>
            <h3>Ajouter un nouveau TJM</h3>
            <form action="/submit_form" method="post" style="display: flex" [formGroup]="myForm">
              <div class="form-section">
                <div class="grid-container">
                  <div class="grid-item">
                    <input type="text" id="TJM" formControlName="TJM" placeholder="Nouveau TJM" name="Nouveau TJM"
                      required />
                  </div>

                  <div class="custom-file-input" (change)="setFileInput('document', $event)" style="cursor: pointer">
                    <label class="file-label" for="fileInput" style="cursor: pointer">
                      Simulation
                    </label>

                    <div class="vertical-line"></div>
                    <input class="file-input" type="file" id="fileInput" name="fileInput"
                      onclick="document.getElementById('fileInput').click()" />
                    <div class="upload-icon" onclick="document.getElementById('fileInput').click()">
                      <div class="chose-file" *ngIf="!document">
                        choisir un fichier <br />
                        <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14"
                          class="icon-file" fill="none">
                          <g clip-path="url(#clip0_972_185)">
                            <path
                              d="M0.5 10.5V11.5C0.5 12.0304 0.710714 12.5391 1.08579 12.9142C1.46086 13.2893 1.96957 13.5 2.5 13.5H11.5C12.0304 13.5 12.5391 13.2893 12.9142 12.9142C13.2893 12.5391 13.5 12.0304 13.5 11.5V10.5"
                              stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M4 4L7 0.5L10 4" stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                            <path d="M7 0.5V9.5" stroke="#1E1E1E" stroke-linecap="round" stroke-linejoin="round" />
                          </g>
                          <defs>
                            <clipPath id="clip0_972_185">
                              <rect width="14" height="14" fill="white" />
                            </clipPath>
                          </defs>
                        </svg>
                      </div>
                      <div *ngIf="document" style="align-items: center; text-align: center">
                        <img [src]="document" alt="Selected Image" style="
                            max-width: 320%;
                            max-height: 50px;
                            margin: 5px;
                            margin-top: 10px;
                          " />
                      </div>
                    </div>
                  </div>
                </div>

                <br />
                <div class="buttons" (click)="submit()">
                  <button type="submit" class="button">
                    <div class="inscrire">Ajouter</div>
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>

      <br /><br />
      <div style="display: flex">
        <div style="
            color: #323842;
            font-size: 1.125rem;
            font-style: normal;
            font-weight: 600;
            line-height: 1.75rem; /* 155.556% */
          ">
          Validées ({{ NotValidated_mission.length }})
        </div>
        <div [hidden]="hideMissions" (click)="toggleHide()" class="eye">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash"
            viewBox="0 0 16 16">
            <path
              d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7 7 0 0 0-2.79.588l.77.771A6 6 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755q-.247.248-.517.486z" />
            <path
              d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829" />
            <path
              d="M3.35 5.47q-.27.24-.518.487A13 13 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7 7 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12z" />
          </svg>
        </div>
        <div [hidden]="!hideMissions" (click)="toggleHide()" class="eye">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye"
            viewBox="0 0 16 16">
            <path
              d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8M1.173 8a13 13 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5s3.879 1.168 5.168 2.457A13 13 0 0 1 14.828 8q-.086.13-.195.288c-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5s-3.879-1.168-5.168-2.457A13 13 0 0 1 1.172 8z" />
            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5M4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0" />
          </svg>
        </div>
      </div>
      <br />

      <table>
        <thead>
          <tr>
            <th style="border-radius: 0.6875rem 0rem 0rem 0rem">Statut</th>
            <th>ID</th>
            <th>Métier</th>
            <th>Client</th>
            <th>Secteur</th>
            <th>TJM</th>
            <th>Début</th>
            <th>Fin</th>
            <th style="border-radius: 0rem 0.6875rem 0rem 0rem"></th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of NotValidated_mission; let k = index">
            <td>
              <div>
                <div class="nonvalidée">Non validée</div>
              </div>
            </td>
            <td>#{{ k + 1 }}</td>

            <td>
              {{ item.missionInfo.profession.value }}
            </td>
            <td>
              {{ item.clientInfo.clientContact.firstName.value }}
            </td>
            <td>
              {{ item.missionInfo.industrySector.value }}
            </td>
            <td>
              {{ item.missionInfo.dailyRate.value }}
            </td>
            <td>
              {{ item.missionInfo.startDate.value.split("T")[0] }}
            </td>
            <td>
              {{ item.missionInfo.endDate.value.split("T")[0] }}
            </td>
            <td>
              <div>
                <div>
                  <span (click)="toggleMenu(k)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path
                        d="M12 7C12.3956 7 12.7822 6.8827 13.1111 6.66294C13.44 6.44318 13.6964 6.13082 13.8478 5.76537C13.9991 5.39992 14.0387 4.99778 13.9616 4.60982C13.8844 4.22186 13.6939 3.86549 13.4142 3.58579C13.1345 3.30608 12.7781 3.1156 12.3902 3.03843C12.0022 2.96126 11.6001 3.00087 11.2346 3.15224C10.8692 3.30362 10.5568 3.55996 10.3371 3.88886C10.1173 4.21776 10 4.60444 10 5C10 5.53043 10.2107 6.03914 10.5858 6.41421C10.9609 6.78929 11.4696 7 12 7ZM12 17C11.6044 17 11.2178 17.1173 10.8889 17.3371C10.56 17.5568 10.3036 17.8692 10.1522 18.2346C10.0009 18.6001 9.96126 19.0022 10.0384 19.3902C10.1156 19.7781 10.3061 20.1345 10.5858 20.4142C10.8655 20.6939 11.2219 20.8844 11.6098 20.9616C11.9978 21.0387 12.3999 20.9991 12.7654 20.8478C13.1308 20.6964 13.4432 20.44 13.6629 20.1111C13.8827 19.7822 14 19.3956 14 19C14 18.4696 13.7893 17.9609 13.4142 17.5858C13.0391 17.2107 12.5304 17 12 17ZM12 10C11.6044 10 11.2178 10.1173 10.8889 10.3371C10.56 10.5568 10.3036 10.8692 10.1522 11.2346C10.0009 11.6001 9.96126 12.0022 10.0384 12.3902C10.1156 12.7781 10.3061 13.1345 10.5858 13.4142C10.8655 13.6939 11.2219 13.8844 11.6098 13.9616C11.9978 14.0387 12.3999 13.9991 12.7654 13.8478C13.1308 13.6964 13.4432 13.44 13.6629 13.1111C13.8827 12.7822 14 12.3956 14 12C14 11.4696 13.7893 10.9609 13.4142 10.5858C13.0391 10.2107 12.5304 10 12 10Z"
                        fill="black" />
                    </svg>
                  </span>
                  <div *ngIf="isMenuOpen[k]" class="dropdown-menu">
                    <div style="display: flex; cursor: pointer">
                      <img src="/assets/Checkmark.svg" width="12%" />
                      <div (click)="gotovalidation(item._id)" style="
                          margin-top: 7px;
                          margin-bottom: 10px;
                          margin-left: 5px;
                        ">
                        Voir details
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="right-item">
      <div class="profil">
        <img src="/assets/unsplash_dt60oksDTx8.png" />
        <div class="nom-prenom">Prénom Nom</div>
        <div>
          <svg class="svg" xmlns="http://www.w3.org/2000/svg" width="10" height="4" viewBox="0 0 10 8" fill="none">
            <path d="M5 8L0.669872 0.5L9.33013 0.5L5 8Z" fill="#1E1E1E" fill-opacity="0.8" />
          </svg>
        </div>
      </div>
      <br />
      <br />
      <br />
      <app-notification></app-notification>
    </div>
  </div>
</body>